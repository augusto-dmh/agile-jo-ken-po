<!DOCTYPE html>
<html lang="en" style="background-color: #353b54">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Agile Jo Ken Po</title>

    <div style="display: flex; flex-direction: column; padding: 0 50px">
      <div style="display: flex; justify-content: center">
        <div class="player-wrapper" style="position: relative">
          <p
            style="
              position: absolute;
              left: 50%;
              transform: translateX(-50%);
              font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
              color: white;
              font-size: 20px;
            "
          >
            Player
          </p>
          <div
            class="player-hand-wrapper"
            style="
              width: 300px;
              height: 300px;
              transform: rotate(90deg);
              display: flex;
              justify-content: center;
              align-items: center;
            "
          >
            <img
              class="player-hand"
              style="width: 75%; height: 75%"
            />
          </div>
        </div>

        <div class="player-wrapper" style="position: relative">
          <p
            style="
              position: absolute;
              left: 50%;
              transform: translateX(-50%);
              font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
              color: white;
              font-size: 20px;
            "
          >
            IA
          </p>
          <div
            class="ia-hand-wrapper"
            style="
              width: 300px;
              height: 300px;
              transform: rotate(-90deg);
              display: flex;
              justify-content: center;
              align-items: center;
            "
          >
            <img
              class="ia-hand"
              style="width: 75%; height: 75%"
            />
          </div>
        </div>
      </div>

      <div
        class="jokenpo-btns-wrapper"
        style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 50px"
      >
        <button type="button" class="rock-btn">Rock</button>
        <button type="button" class="paper-btn">Paper</button>
        <button type="button" class="scissors-btn">Scissors</button>
      </div>

      <div
        class="result-wrapper"
        style="display: flex; justify-content: center"
      >
        <p
          class="resultText"
          style="
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: white;
            font-size: 20px;
          "
        ></p>
      </div>
    </div>
  </head>
  <body></body>
</html>

<script>  
  const jokenpoHands = [
    {name: 'Rock', button: document.querySelector('.rock-btn'), winsAgainst: 'Scissors', losesAgainst: 'Paper'},
    {name: 'Paper', button: document.querySelector('.paper-btn'), winsAgainst: 'Rock', losesAgainst: 'Scissors'},
    {name: 'Scissors', button: document.querySelector('.scissors-btn'), winsAgainst: 'Paper', losesAgainst: 'Rock'},
  ];
  const resultText = document.querySelector('.resultText');
  const playerHand = document.querySelector('.player-hand');
  const iaHand = document.querySelector('.ia-hand');
  
  jokenpoHands.forEach(({button}) => {
    button.addEventListener('click', (e) => {
      const playerHandPlayed = jokenpoHands.find((jokenpoHand) => jokenpoHand.name === e.target.innerText);
      const iaHandPlayed = jokenpoHands[Math.floor(Math.random() * 3)];

      playerHand.setAttribute('src', `./images/${playerHandPlayed.name}.png`);
      iaHand.setAttribute('src', `./images/${iaHandPlayed.name}.png`);

      if (playerHandPlayed.name === iaHandPlayed.name) {
        resultText.innerText = 'Draw!';
        return;
      }

      switch (playerHandPlayed.name) {
        case 'Rock':
          resultText.innerText = iaHandPlayed.losesAgainst === 'Rock' ? 'Player won!' : 'IA won!';
          break;
        case 'Paper':
          resultText.innerText = iaHandPlayed.losesAgainst === 'Paper' ? 'Player won!' : 'IA won!';
          break;
        case 'Scissors':
          resultText.innerText = iaHandPlayed.losesAgainst === 'Scissors' ? 'Player won!' : 'IA won!';
          break;
      }
    });
  });
</script>
